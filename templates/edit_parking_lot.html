{% extends "base.html" %}

{% block title %}Edit Parking Lot - Parking Ops{% endblock %}

{% block content %}
<div class="ops-shell">
  {% include "partials/admin_sidebar.html" %}

  <main class="ops-main">
    <a href="{{ url_for('admin.dashboard') }}" class="back-link">Back to Dashboard</a>

    <header class="page-header">
      <p class="breadcrumb">Operations / Parking Lots / Edit</p>
      <h1 class="page-title">Edit Parking Lot</h1>
      <p class="page-subtitle">Update lot details and slot count safely.</p>
    </header>

    <section class="card" style="max-width: 760px;">
      <form method="POST">
        <div class="form-group">
          <label for="location_name" class="form-label">Location Name</label>
          <input type="text" name="location_name" id="location_name" class="form-control" value="{{ lot.location_name }}" required autofocus>
        </div>

        <div class="form-group">
          <label for="address" class="form-label">Address</label>
          <input type="text" name="address" id="address" class="form-control" value="{{ lot.address }}" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="pincode" class="form-label">PIN Code</label>
            <input type="text" name="pincode" id="pincode" class="form-control" value="{{ lot.pincode }}" required pattern="[0-9]{6}">
          </div>

          <div class="form-group">
            <label for="price" class="form-label">Price per Hour</label>
            <input type="number" name="price" id="price" class="form-control" value="{{ lot.price }}" required min="1" step="0.01">
          </div>
        </div>

        <div class="form-group">
          <label for="total_slots" class="form-label">Total Parking Slots</label>
          <input type="number" name="total_slots" id="total_slots" class="form-control" value="{{ lot.total_slots }}" required min="1">
          <p class="notice" style="margin-top: 8px;">Current: {{ lot.total_slots }} slots. Increasing adds new spots; decreasing only removes free spots.</p>
        </div>

        <div class="form-actions">
          <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </section>
  </main>
</div>
{% endblock %}
